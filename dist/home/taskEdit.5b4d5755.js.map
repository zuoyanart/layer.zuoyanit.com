{"version":3,"sources":["pages/usercenter/task/crontab.vue","pages/usercenter/task/taskEdit.vue"],"names":[],"mappings":"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","file":"taskEdit.5b4d5755.js","sourceRoot":"..\\..\\src\\site\\home","sourcesContent":["<style lang=\"less\" scoped>\r\n#changeContab {\r\n  margin: 20px;\r\n  .language {\r\n    position: absolute;\r\n    right: 25px;\r\n    z-index: 1;\r\n  }\r\n  .el-tabs {\r\n    box-shadow: none;\r\n  }\r\n  .tabBody {\r\n    .el-row {\r\n      margin: 10px 0;\r\n      .long {\r\n        .el-select {\r\n          width: 350px;\r\n        }\r\n      }\r\n      .el-input-number {\r\n        width: 110px;\r\n      }\r\n    }\r\n  }\r\n  .bottom {\r\n    width: 100%;\r\n    text-align: center;\r\n    margin-top: 15px;\r\n    position: relative;\r\n    .value {\r\n      font-size: 18px;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<template>\r\n  <div id=\"changeContab\">\r\n    <el-tabs type=\"border-card\">\r\n      <el-tab-pane>\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-date\"></i> 秒\r\n        </span>\r\n        <div class=\"tabBody\">\r\n          <el-row>\r\n            <el-radio v-model=\"second.cronEvery\" label=\"1\">每一秒</el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"second.cronEvery\" label=\"2\">\r\n              每隔\r\n              <el-input-number size=\"small\" v-model=\"second.incrementIncrement\" :min=\"1\" :max=\"60\"></el-input-number>秒执行\r\n              <!-- ，从<el-input-number size=\"small\" v-model=\"second.incrementStart\" :min=\"0\" :max=\"59\"></el-input-number>秒开始 -->\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio class=\"long\" v-model=\"second.cronEvery\" label=\"3\">\r\n              具体秒数(可多选)\r\n              <el-select size=\"small\" multiple v-model=\"second.specificSpecific\">\r\n                <el-option v-for=\"val in 60\" :key=\"val\" :value=\"val-1\">{{val-1}}</el-option>\r\n              </el-select>\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"second.cronEvery\" label=\"4\">\r\n              周期从\r\n              <el-input-number size=\"small\" v-model=\"second.rangeStart\" :min=\"1\" :max=\"60\"></el-input-number>到\r\n              <el-input-number size=\"small\" v-model=\"second.rangeEnd\" :min=\"0\" :max=\"59\"></el-input-number>秒\r\n            </el-radio>\r\n          </el-row>\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane>\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-date\"></i>\r\n          分\r\n        </span>\r\n        <div class=\"tabBody\">\r\n          <el-row>\r\n            <el-radio v-model=\"minute.cronEvery\" label=\"1\">每一分钟</el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"minute.cronEvery\" label=\"2\">\r\n              每隔\r\n              <el-input-number size=\"small\" v-model=\"minute.incrementIncrement\" :min=\"1\" :max=\"60\"></el-input-number>分执行\r\n              <!-- ，从<el-input-number size=\"small\" v-model=\"minute.incrementStart\" :min=\"0\" :max=\"59\"></el-input-number>分开始 -->\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio class=\"long\" v-model=\"minute.cronEvery\" label=\"3\">\r\n              具体分钟数(可多选)\r\n              <el-select size=\"small\" multiple v-model=\"minute.specificSpecific\">\r\n                <el-option v-for=\"val in 60\" :key=\"val\" :value=\"val-1\">{{val-1}}</el-option>\r\n              </el-select>\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"minute.cronEvery\" label=\"4\">\r\n              周期从\r\n              <el-input-number size=\"small\" v-model=\"minute.rangeStart\" :min=\"1\" :max=\"60\"></el-input-number>到\r\n              <el-input-number size=\"small\" v-model=\"minute.rangeEnd\" :min=\"0\" :max=\"59\"></el-input-number>分\r\n            </el-radio>\r\n          </el-row>\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane>\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-date\"></i>\r\n          时\r\n        </span>\r\n        <div class=\"tabBody\">\r\n          <el-row>\r\n            <el-radio v-model=\"hour.cronEvery\" label=\"1\">每一小时</el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"hour.cronEvery\" label=\"2\">\r\n              每隔\r\n              <el-input-number size=\"small\" v-model=\"hour.incrementIncrement\" :min=\"0\" :max=\"23\"></el-input-number>小时执行\r\n              <!-- 从<el-input-number size=\"small\" v-model=\"hour.incrementStart\" :min=\"0\" :max=\"23\"></el-input-number>小时开始 -->\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio class=\"long\" v-model=\"hour.cronEvery\" label=\"3\">\r\n              具体小时数(可多选)\r\n              <el-select size=\"small\" multiple v-model=\"hour.specificSpecific\">\r\n                <el-option v-for=\"val in 24\" :key=\"val\" :value=\"val-1\">{{val-1}}</el-option>\r\n              </el-select>\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"hour.cronEvery\" label=\"4\">\r\n              周期从\r\n              <el-input-number size=\"small\" v-model=\"hour.rangeStart\" :min=\"0\" :max=\"23\"></el-input-number>到\r\n              <el-input-number size=\"small\" v-model=\"hour.rangeEnd\" :min=\"0\" :max=\"23\"></el-input-number>小时\r\n            </el-radio>\r\n          </el-row>\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane>\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-date\"></i>\r\n          天\r\n        </span>\r\n        <div class=\"tabBody\">\r\n          <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"1\">每一天</el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"2\">\r\n              每隔\r\n              <el-input-number size=\"small\" v-model=\"week.incrementIncrement\" :min=\"1\" :max=\"7\"></el-input-number>周执行\r\n              <!-- ，从<el-select size=\"small\" v-model=\"week.incrementStart\">\r\n                <el-option v-for=\"val in 7\" :key=\"val\" :label=\"Week[val-1]\" :value=\"val\"></el-option>\r\n              </el-select>开始-->\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"3\">\r\n              每隔\r\n              <el-input-number size=\"small\" v-model=\"day.incrementIncrement\" :min=\"1\" :max=\"31\"></el-input-number>天执行\r\n              <!-- ，从<el-input-number size=\"small\" v-model=\"day.incrementStart\" :min=\"1\" :max=\"31\"></el-input-number>天开始 -->\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio class=\"long\" v-model=\"day.cronEvery\" label=\"4\">\r\n              具体星期几(可多选)\r\n              <el-select size=\"small\" multiple v-model=\"week.specificSpecific\">\r\n                <el-option\r\n                  v-for=\"val in 7\"\r\n                  :key=\"val\"\r\n                  :label=\"Week[val-1]\"\r\n                  :value=\"['SUN','MON','TUE','WED','THU','FRI','SAT'][val-1]\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio class=\"long\" v-model=\"day.cronEvery\" label=\"5\">\r\n              具体天数(可多选)\r\n              <el-select size=\"small\" multiple v-model=\"day.specificSpecific\">\r\n                <el-option v-for=\"val in 31\" :key=\"val\" :value=\"val\">{{val}}</el-option>\r\n              </el-select>\r\n            </el-radio>\r\n          </el-row>\r\n          <!-- <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"6\">{{text.Day.lastDay}}</el-radio>\r\n          </el-row>-->\r\n          <!-- <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"7\">{{text.Day.lastWeekday}}</el-radio>\r\n          </el-row>-->\r\n          <!-- <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"8\">\r\n              {{text.Day.lastWeek[0]}}\r\n              <el-select size=\"small\" v-model=\"day.cronLastSpecificDomDay\">\r\n                <el-option v-for=\"val in 7\" :key=\"val\" :label=\"text.Week[val-1]\" :value=\"val\"></el-option>\r\n              </el-select>\r\n              {{text.Day.lastWeek[1]||''}}\r\n            </el-radio>\r\n          </el-row>-->\r\n          <!-- <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"9\">\r\n              <el-input-number size=\"small\" v-model=\"day.cronDaysBeforeEomMinus\" :min=\"1\" :max=\"31\"></el-input-number>\r\n              {{text.Day.beforeEndMonth[0]}}\r\n            </el-radio>\r\n          </el-row>-->\r\n          <!-- <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"10\">\r\n              {{text.Day.nearestWeekday[0]}}\r\n              <el-input-number size=\"small\" v-model=\"day.cronDaysNearestWeekday\" :min=\"1\" :max=\"31\"></el-input-number>\r\n              {{text.Day.nearestWeekday[1]}}\r\n            </el-radio>\r\n          </el-row>-->\r\n          <!-- <el-row>\r\n            <el-radio v-model=\"day.cronEvery\" label=\"11\">\r\n              {{text.Day.someWeekday[0]}}\r\n              <el-input-number size=\"small\" v-model=\"week.cronNthDayNth\" :min=\"1\" :max=\"5\"></el-input-number>\r\n              <el-select size=\"small\" v-model=\"week.cronNthDayDay\">\r\n                <el-option v-for=\"val in 7\" :key=\"val\" :label=\"text.Week[val-1]\" :value=\"val\"></el-option>\r\n              </el-select>\r\n              {{text.Day.someWeekday[1]}}\r\n            </el-radio>\r\n          </el-row>-->\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane>\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-date\"></i>\r\n          月\r\n        </span>\r\n        <div class=\"tabBody\">\r\n          <el-row>\r\n            <el-radio v-model=\"month.cronEvery\" label=\"1\">每一月</el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"month.cronEvery\" label=\"2\">\r\n              每隔\r\n              <el-input-number size=\"small\" v-model=\"month.incrementIncrement\" :min=\"0\" :max=\"12\"></el-input-number>月执行\r\n              <!-- 从<el-input-number size=\"small\" v-model=\"month.incrementStart\" :min=\"0\" :max=\"12\"></el-input-number>月开始 -->\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio class=\"long\" v-model=\"month.cronEvery\" label=\"3\">\r\n              具体月数(可多选)\r\n              <el-select size=\"small\" multiple v-model=\"month.specificSpecific\">\r\n                <el-option v-for=\"val in 12\" :key=\"val\" :label=\"val\" :value=\"val\"></el-option>\r\n              </el-select>\r\n            </el-radio>\r\n          </el-row>\r\n          <el-row>\r\n            <el-radio v-model=\"month.cronEvery\" label=\"4\">\r\n              从\r\n              <el-input-number size=\"small\" v-model=\"month.rangeStart\" :min=\"1\" :max=\"12\"></el-input-number>到\r\n              <el-input-number size=\"small\" v-model=\"month.rangeEnd\" :min=\"1\" :max=\"12\"></el-input-number>月之间的每个月\r\n            </el-radio>\r\n          </el-row>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <div class=\"bottom\">\r\n      <span class=\"value\">{{this.cron}}</span>\r\n      <el-button type=\"primary\" @click=\"change\">保存</el-button>\r\n      <el-button @click=\"close\">关闭</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    data: '',\r\n    layerid: ''\r\n  },\r\n  data() {\r\n    return {\r\n      Week: ['天', '一', '二', '三', '四', '五', '六'].map(val => '星期' + val),\r\n      second: {\r\n        cronEvery: '',\r\n        incrementStart: '*',\r\n        incrementIncrement: '5',\r\n        rangeStart: '',\r\n        rangeEnd: '',\r\n        specificSpecific: [],\r\n      },\r\n      minute: {\r\n        cronEvery: '',\r\n        incrementStart: '*',\r\n        incrementIncrement: '5',\r\n        rangeStart: '',\r\n        rangeEnd: '',\r\n        specificSpecific: [],\r\n      },\r\n      hour: {\r\n        cronEvery: '',\r\n        incrementStart: '*',\r\n        incrementIncrement: '5',\r\n        rangeStart: '',\r\n        rangeEnd: '',\r\n        specificSpecific: [],\r\n      },\r\n      day: {\r\n        cronEvery: '',\r\n        incrementStart: '*',\r\n        incrementIncrement: '1',\r\n        rangeStart: '',\r\n        rangeEnd: '',\r\n        specificSpecific: [],\r\n        cronLastSpecificDomDay: 1,\r\n        cronDaysBeforeEomMinus: '',\r\n        cronDaysNearestWeekday: '',\r\n      },\r\n      week: {\r\n        cronEvery: '',\r\n        incrementStart: '*',\r\n        incrementIncrement: '1',\r\n        specificSpecific: [],\r\n        cronNthDayDay: 1,\r\n        cronNthDayNth: '1',\r\n      },\r\n      month: {\r\n        cronEvery: '',\r\n        incrementStart: '*',\r\n        incrementIncrement: '5',\r\n        rangeStart: '',\r\n        rangeEnd: '',\r\n        specificSpecific: [],\r\n      },\r\n      year: {\r\n        cronEvery: '',\r\n        incrementStart: '2017',\r\n        incrementIncrement: '1',\r\n        rangeStart: '',\r\n        rangeEnd: '',\r\n        specificSpecific: [],\r\n      },\r\n      output: {\r\n        second: '',\r\n        minute: '',\r\n        hour: '',\r\n        day: '',\r\n        month: '',\r\n        Week: '',\r\n        year: '',\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    data() {\r\n      this.rest(this.$data);\r\n    }\r\n  },\r\n  computed: {\r\n    text() {\r\n      // return Language[this.i18n || 'cn']\r\n    },\r\n    secondsText() {\r\n      let seconds = '';\r\n      let cronEvery = this.second.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n          seconds = '*';\r\n          break;\r\n        case '2':\r\n          seconds = this.second.incrementStart + '/' + this.second.incrementIncrement;\r\n          break;\r\n        case '3':\r\n          this.second.specificSpecific.map(val => {\r\n            seconds += val + ','\r\n          });\r\n          seconds = seconds.slice(0, -1);\r\n          break;\r\n        case '4':\r\n          seconds = this.second.rangeStart + '-' + this.second.rangeEnd;\r\n          break;\r\n      }\r\n      return seconds;\r\n    },\r\n    minutesText() {\r\n      let minutes = '';\r\n      let cronEvery = this.minute.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n          minutes = '*';\r\n          break;\r\n        case '2':\r\n          minutes = this.minute.incrementStart + '/' + this.minute.incrementIncrement;\r\n          break;\r\n        case '3':\r\n          this.minute.specificSpecific.map(val => {\r\n            minutes += val + ','\r\n          });\r\n          minutes = minutes.slice(0, -1);\r\n          break;\r\n        case '4':\r\n          minutes = this.minute.rangeStart + '-' + this.minute.rangeEnd;\r\n          break;\r\n      }\r\n      return minutes;\r\n    },\r\n    hoursText() {\r\n      let hours = '';\r\n      let cronEvery = this.hour.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n          hours = '*';\r\n          break;\r\n        case '2':\r\n          hours = this.hour.incrementStart + '/' + this.hour.incrementIncrement;\r\n          break;\r\n        case '3':\r\n          this.hour.specificSpecific.map(val => {\r\n            hours += val + ','\r\n          });\r\n          hours = hours.slice(0, -1);\r\n          break;\r\n        case '4':\r\n          hours = this.hour.rangeStart + '-' + this.hour.rangeEnd;\r\n          break;\r\n      }\r\n      return hours;\r\n    },\r\n    daysText() {\r\n      let days = '';\r\n      let cronEvery = this.day.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n          break;\r\n        case '2':\r\n        case '4':\r\n        case '11':\r\n          days = '?';\r\n          break;\r\n        case '3':\r\n          days = this.day.incrementStart + '/' + this.day.incrementIncrement;\r\n          break;\r\n        case '5':\r\n          this.day.specificSpecific.map(val => {\r\n            days += val + ','\r\n          });\r\n          days = days.slice(0, -1);\r\n          break;\r\n        case '6':\r\n          days = \"L\";\r\n          break;\r\n        case '7':\r\n          days = \"LW\";\r\n          break;\r\n        case '8':\r\n          days = this.day.cronLastSpecificDomDay + 'L';\r\n          break;\r\n        case '9':\r\n          days = 'L-' + this.day.cronDaysBeforeEomMinus;\r\n          break;\r\n        case '10':\r\n          days = this.day.cronDaysNearestWeekday + \"W\";\r\n          break\r\n      }\r\n      return days;\r\n    },\r\n    weeksText() {\r\n      let weeks = '';\r\n      let cronEvery = this.day.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n        case '3':\r\n        case '5':\r\n          weeks = '?';\r\n          break;\r\n        case '2':\r\n          weeks = this.week.incrementStart + '/' + this.week.incrementIncrement;\r\n          break;\r\n        case '4':\r\n          this.week.specificSpecific.map(val => {\r\n            weeks += val + ','\r\n          });\r\n          weeks = weeks.slice(0, -1);\r\n          break;\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n        case '10':\r\n          weeks = \"?\";\r\n          break;\r\n        case '11':\r\n          weeks = this.week.cronNthDayDay + \"#\" + this.week.cronNthDayNth;\r\n          break;\r\n      }\r\n      return weeks;\r\n    },\r\n    monthsText() {\r\n      let months = '';\r\n      let cronEvery = this.month.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n          months = '*';\r\n          break;\r\n        case '2':\r\n          months = this.month.incrementStart + '/' + this.month.incrementIncrement;\r\n          break;\r\n        case '3':\r\n          this.month.specificSpecific.map(val => {\r\n            months += val + ','\r\n          });\r\n          months = months.slice(0, -1);\r\n          break;\r\n        case '4':\r\n          months = this.month.rangeStart + '-' + this.month.rangeEnd;\r\n          break;\r\n      }\r\n      return months;\r\n    },\r\n    yearsText() {\r\n      let years = '';\r\n      let cronEvery = this.year.cronEvery;\r\n      switch (cronEvery.toString()) {\r\n        case '1':\r\n          years = '*';\r\n          break;\r\n        case '2':\r\n          years = this.year.incrementStart + '/' + this.year.incrementIncrement;\r\n          break;\r\n        case '3':\r\n          this.year.specificSpecific.map(val => {\r\n            years += val + ','\r\n          });\r\n          years = years.slice(0, -1);\r\n          break;\r\n        case '4':\r\n          years = this.year.rangeStart + '-' + this.year.rangeEnd;\r\n          break;\r\n      }\r\n      return years;\r\n    },\r\n    cron() {\r\n      return `${this.secondsText || '*'} ${this.minutesText || '*'} ${this.hoursText || '*'} ${this.daysText || '*'} ${this.monthsText || '*'} ${this.weeksText || '?'}`\r\n    },\r\n  },\r\n  methods: {\r\n    getValue() {\r\n      return this.cron;\r\n    },\r\n    change() {\r\n      this.$parent.$emit('change', this.cron);\r\n      this.close();\r\n    },\r\n    close() {\r\n      this.$layer.close(this.layerid);\r\n    },\r\n    rest(data) {\r\n      for (let i in data) {\r\n        if (data[i] instanceof Object) {\r\n          this.rest(data[i])\r\n        } else {\r\n          switch (typeof data[i]) {\r\n            case 'object': data[i] = []; break;\r\n            case 'string': data[i] = ''; break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n  }\r\n}</script>","<style lang=\"css\">\r\n</style>\r\n\r\n<template>\r\n  <div id=\"main\">\r\n    <div class=\"list\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\" style=\"width:1000px\">\r\n        <el-form-item label=\"任务名称\" prop=\"name\">\r\n          <el-input v-model.trim=\"form.name\" placeholder></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"执行规则\" prop=\"cron\">\r\n          <el-input v-model.trim=\"form.cron\" :readonly=\"true\">\r\n            <el-button slot=\"append\" @click.native=\"openCron\" icon=\"el-icon-search\"></el-button>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"请求地址\" prop=\"url\">\r\n          <div style=\"display:flex;padding-right:10px;\">\r\n            <el-input v-model.trim=\"form.url\" placeholder style=\"flex:1;margin-right:10px;\"></el-input>\r\n            <el-select v-model=\"form.method\" placeholder style=\"width:100px;\">\r\n              <el-option key=\"get\" value=\"get\" label=\"get\"></el-option>\r\n              <el-option key=\"post\" value=\"post\" label=\"post\"></el-option>\r\n              <el-option key=\"put\" value=\"put\" label=\"put\"></el-option>\r\n              <el-option key=\"delete\" value=\"delete\" label=\"delete\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"请求参数\" prop=\"param\">\r\n          <el-input v-model.trim=\"form.param\" placeholder=\"可以为字符串也可以为json，注意避免特殊字符\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否告警\" prop=\"notice\">\r\n          <el-select v-model.trim=\"form.notice\">\r\n            <el-option key=\"0\" :value=\"0\" label=\"告警\"></el-option>\r\n            <el-option key=\"1\" :value=\"1\" label=\"忽略错误\"></el-option>\r\n          </el-select>\r\n          <p style=\"color:#909399;\">超时或者http code不为200时，是否发送告警</p>\r\n        </el-form-item>\r\n        <template v-if=\"id==0\">\r\n          <el-form-item label=\"是否执行\" prop=\"runstate\">\r\n            <el-select v-model.trim=\"form.runstate\">\r\n              <el-option key=\"0\" :value=\"0\" label=\"立即执行\"></el-option>\r\n              <el-option key=\"1\" :value=\"1\" label=\"稍后执行\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"服务购买\" prop=\"buytime\">\r\n            <el-select v-model.trim=\"form.buytime\">\r\n              <el-option\r\n                :key=\"item.value\"\r\n                :value=\"item.value\"\r\n                :label=\"item.label\"\r\n                v-for=\"item in getByTimeOption()\"\r\n              ></el-option>\r\n            </el-select>\r\n            <p style=\"color:#909399;\">每月2元钱</p>\r\n          </el-form-item>\r\n        </template>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitHandle\">提交</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport baseMixin from '../mixin/edit.js';\r\nimport crontab from './crontab';\r\nexport default {\r\n  mixins: [baseMixin],\r\n  data() {\r\n    return {\r\n      model: 'task',\r\n      form: {\r\n        url: '',\r\n        param: '',\r\n        cron: '* */10 * * * *',\r\n        runstate: 0,\r\n        method: 'get',\r\n        notice: 0,\r\n        buytime: 1\r\n      },\r\n      rules: {\r\n        name: [{\r\n          required: true,\r\n          message: '请填写1-20位的名称',\r\n          trigger: 'blur'\r\n        }, {\r\n          min: 1,\r\n          max: 20,\r\n          message: '长度在1 到 20 个字符',\r\n          trigger: 'blur'\r\n        }],\r\n        url: [{\r\n          required: true,\r\n          message: '请填写1-200位的url',\r\n          trigger: 'blur'\r\n        }, {\r\n          min: 1,\r\n          max: 200,\r\n          message: '长度在1 到 200 个字符',\r\n          trigger: 'blur'\r\n        }, {\r\n          pattern: /^https?:\\/\\/(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i,\r\n          message: '请输入合法的url地址'\r\n        }]\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    'base-crontab': crontab\r\n  },\r\n  methods: {\r\n    getByTimeOption() {\r\n      const time = [];\r\n      for (let i = 1; i < 13; i++) {\r\n        time.push({\r\n          label: i + '个月',\r\n          value: i\r\n        })\r\n      }\r\n      return time;\r\n    },\r\n    openCron() {\r\n      this.$layer.iframe({\r\n        content: {\r\n          content: crontab,\r\n          parent: this,\r\n          data: {\r\n            data: this.form.cron\r\n          }\r\n        },\r\n        area: ['565px', '400px'],\r\n        title: '选择'\r\n      });\r\n    },\r\n    cronChange(data) {\r\n      console.log(data);\r\n    },\r\n    async before() {\r\n      this.form.groupid = this.$route.params.groupid;\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.$on('change', (data) => {\r\n      // this.form.cron = data;\r\n      this.$set(this.form, 'cron', data);\r\n      console.log(this.form);\r\n    });\r\n  }\r\n};\r\n</script>\r\n"]}