{"version":3,"sources":["pages/usercenter/socket/index.vue"],"names":[],"mappings":";AAuDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EADA,IAAA,OAAA,uBAAA,QAAA,sBACA,SAAA,uBAAA,KAAA,OAAA,KAAA,IAAA,WAAA,IAAA,CAAA,QAAA,KAAA,SAAA,mBAAA,IAAA,QAAA,OAAA,MAAA,OAAA,IAAA,KAAA,IAAA,IAAA,KAAA,IAAA,KAAA,KAAA,IAAA,MAAA,KAAA,MAAA,MAAA,OAAA,YAAA,OAAA,OAAA,KAAA,KAAA,QAAA,OAAA,QAAA,QAAA,OAAA,KAAA,MAAA,QAAA,SAAA,kBAAA,IAAA,OAAA,WAAA,IAAA,KAAA,KAAA,KAAA,UAAA,OAAA,IAAA,QAAA,SAAA,QAAA,QAAA,IAAA,IAAA,GAAA,MAAA,KAAA,MAAA,SAAA,MAAA,OAAA,mBAAA,IAAA,QAAA,OAAA,MAAA,OAAA,OAAA,OAAA,SAAA,OAAA,KAAA,mBAAA,IAAA,QAAA,OAAA,MAAA,OAAA,QAAA,KAAA,WAAA,MAAA,IAAA,SAAA,CACA,OAAA,CAAA,OAAA,SACA,KAAA,WACA,MAAA,CACA,MAAA,WAGA,QAPA,WAAA,IAAA,SAAA,kBAAA,mBAAA,KAAA,SAAA,UAAA,OAAA,mBAAA,KAAA,SAAA,UAAA,OAAA,OAAA,SAAA,KAAA,SAAA,MAAA,KAAA,EAAA,IAAA,MAAA,OAAA,SAAA,SAAA,YAAA,OAAA,WAAA,OAAA,SAAA,MAAA,KAAA,YAAA,GAQA,QAAA,CACA,cAAA,SAAA,KAAA,KACA,MAAA,CACA,KAAA,KACA,IAAA,MAGA,WAPA,WAAA,IAAA,YAAA,kBAOA,mBAAA,KAAA,SAAA,SAAA,KAPA,IAAA,MAAA,KAAA,OAAA,mBAAA,KAAA,SAAA,WAAA,OAAA,OAAA,UAAA,KAAA,UAAA,MAAA,KAAA,EAQA,KAAA,OAAA,MAAA,qBAAA,kBAAA,mBAAA,KAAA,SAAA,WAAA,IAAA,IAAA,OAAA,mBAAA,KAAA,SAAA,WAAA,OAAA,OAAA,UAAA,KAAA,UAAA,MAAA,KAAA,EACA,OADA,UAAA,KAAA,EACA,MAAA,OAAA,UAAA,iBAAA,MAAA,CACA,GAAA,IAAA,KAFA,KAAA,EACA,IADA,UAAA,KAIA,MAAA,OAAA,WACA,MAAA,IAAA,OACA,IAAA,OAAA,IAAA,KAAA,QANA,KAAA,EAAA,IAAA,MAAA,OAAA,UAAA,SAAA,cARA,KAAA,EAAA,IAAA,MAAA,OAAA,UAAA,SAAA,SAAA,SAAA,OAAA,SAAA,IAAA,OAAA,YAAA,MAAA,KAAA,YAAA,GAmBA,cAAA,SAAA,SACA,OAAA,QAAA,MACA,IAAA,aACA,KAAA,WAAA,QAAA,KACA,MACA,IAAA,MACA,KAAA,IAAA,QAAA,SAjCA,QAAA,QAAA","file":"socket.8bd2d882.js","sourceRoot":"..\\..\\src\\site\\home","sourcesContent":["<style lang=\"css\">\r\n</style>\r\n\r\n<template>\r\n  <div id=\"main\">\r\n    <base-mulmenu @search=\"page\">\r\n      <router-link to=\"/usercenter/socket/edit\">创建应用</router-link>\r\n      <em @click=\"del()\">删除</em>\r\n    </base-mulmenu>\r\n    <el-table :data=\"tableData\" border @selection-change=\"checkAll\">\r\n      >\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n      <el-table-column prop=\"key\" label=\"appkey\" :min-width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"secret\" label=\"appsecret\" :min-width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"connectmax\" label=\"最大并发数\"></el-table-column>\r\n      <el-table-column label=\"消息数量\">\r\n        <template slot-scope=\"scope\">{{scope.row.msgcount}}&nbsp;(max:{{scope.row.msgmax}})</template>\r\n      </el-table-column>\r\n      <!-- <el-table-column prop=\"end_time\" label=\"到期时间\">\r\n        <template slot-scope=\"scope\">{{scope.row.end_time | formatTime}}</template>\r\n      </el-table-column>-->\r\n      <el-table-column label=\"操作\" :min-width=\"110\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"edit(scope.row.id)\">编辑</el-button>\r\n          <el-dropdown type=\"primary\" @command=\"handleCommand\">\r\n            <el-button type=\"primary\">\r\n              更多\r\n              <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </el-button>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item :command=\"formatCommand('editsecret',scope.row)\">刷新密钥</el-dropdown-item>\r\n              <el-dropdown-item :disabled=\"true\" :command=\"formatCommand('upgrade',scope.row)\">升级</el-dropdown-item>\r\n              <el-dropdown-item :disabled=\"true\" :command=\"formatCommand('buy',scope.row)\">续费</el-dropdown-item>\r\n              <el-dropdown-item :command=\"formatCommand('del',scope.row)\">删除</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"margin-top:30px;text-align:right;margin-right:20px;\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        :page-size=\"apiParams.mp\"\r\n        @current-change=\"currentChange\"\r\n        v-if=\"total>apiParams.mp\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport baseMixin from '../mixin/index.js';\r\nexport default {\r\n  mixins: [baseMixin],\r\n  data() {\r\n    return {\r\n      model: 'socket'\r\n    };\r\n  },\r\n  async mounted() { },\r\n  methods: {\r\n    formatCommand(type, row) {\r\n      return {\r\n        type,\r\n        row\r\n      }\r\n    },\r\n    async editSecret(row) {\r\n      this.$layer.alert('您确定要刷新密钥吗？刷新会影响到鉴权', async () => {\r\n        const doc = await this.$tools.httpAgent('/socket/secret', 'put', {\r\n          id: row.id\r\n        });\r\n        this.$layer.closeAll();\r\n        if (doc.code === 200) {\r\n          row.secret = doc.data.secret;\r\n        }\r\n      });\r\n\r\n    },\r\n    handleCommand(command) {\r\n      switch (command.type) {\r\n        case 'editsecret':\r\n          this.editSecret(command.row);\r\n          break;\r\n        case 'del':\r\n          this.del(command.row);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}